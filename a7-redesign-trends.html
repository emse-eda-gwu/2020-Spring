<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Assignment 7: Hockey Trends Redesign</title>

<script src="site_libs/header-attrs-2.23/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet" />
<link rel="icon" href="images/favicon.ico">
<script src="https://kit.fontawesome.com/1392a7030f.js" crossorigin="anonymous"></script>
<style type="text/css">

/* Text */

h1{
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 60px;
}
h2{
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 50px;
}
h3{
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 40px;
}
body {
  font-size: 16px;
  line-height: 26px;
}
blockquote{
  background-color: #ecf0f1;
  padding: 20px;
  border: 0;
  border-radius: 5px;
}

/* Images */

img {
  padding-bottom: 10px;
}

/* Tables */

table {
  border-collapse: collapse;
  margin-bottom:10px;
}
thead {
  border-top: solid #DCDCDC;
  border-bottom: solid #DCDCDC;
}
tr.odd {
  background-color: #F8F8F8;
}
tr:first-child {
  border-top: solid #DCDCDC;
}
tr:last-child {
  border-bottom: solid #DCDCDC;
}

</style>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">EDA - Spring 2020</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="syllabus.html">
    <span class="fa fa-map-ok"></span>
     
    Syllabus
  </a>
</li>
<li>
  <a href="schedule.html">Schedule</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Readings
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="r0-course-prep.html">0: Course prep</a>
    </li>
    <li>
      <a href="r1-course-introduction.html">1: Course introduction</a>
    </li>
    <li>
      <a href="r2-exploring-data.html">2: Exploring data</a>
    </li>
    <li>
      <a href="r3-visualizing-information.html">3: Visualizing information</a>
    </li>
    <li>
      <a href="r4-amounts-proportions.html">4: Graphing amounts &amp; proportions</a>
    </li>
    <li>
      <a href="r5-comparisons.html">5: Graphing comparisons</a>
    </li>
    <li>
      <a href="r6-trends.html">6: Graphing trends</a>
    </li>
    <li>
      <a href="r7-cleaning-joins.html">7: Data cleaning &amp; joins</a>
    </li>
    <li>
      <a href="r8-polish.html">8: Polishing your charts</a>
    </li>
    <li>
      <a href="r9-maps.html">9: Maps &amp; geospatial data</a>
    </li>
    <li>
      <a href="r11-correlation.html">11: Correlation analysis</a>
    </li>
    <li>
      <a href="r12-shiny-apps.html">12: Shiny apps</a>
    </li>
    <li>
      <a href="r13-communicating.html">13: Communicating your results</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Assignments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="a0-course-prereqs.html">0: Class prerequisites</a>
    </li>
    <li>
      <a href="a1-exploring-data.html">1: Exploring data</a>
    </li>
    <li>
      <a href="a2-plotting.html">2: Plotting with ggplot2</a>
    </li>
    <li>
      <a href="a3-factors.html">3: Plotting with factors</a>
    </li>
    <li>
      <a href="a4-redesign-amounts.html">4: Wind power redesign</a>
    </li>
    <li>
      <a href="a5-data-cleaning.html">5: Data cleaning &amp; joins</a>
    </li>
    <li>
      <a href="a6-geo-spatial.html">6: Maps &amp; geo-spatial data</a>
    </li>
    <li>
      <a href="a7-redesign-trends.html">7: Redesign 2</a>
    </li>
    <li>
      <a href="a-project.html">Final project</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ref-getting-help.html">
        <span class="fa fa-question-circle"></span>
         
        Getting Help
      </a>
    </li>
    <li>
      <a href="ref-finding-data.html">
        <span class="fa fa-database"></span>
         
        Finding Data
      </a>
    </li>
    <li>
      <a href="ref-visualizing-data.html">
        <span class="fa fa-chart-bar"></span>
         
        Visualizing Data
      </a>
    </li>
    <li>
      <a href="ref-programming.html">
        <span class="fa fa-terminal"></span>
         
        Programming in R
      </a>
    </li>
    <li>
      <a href="ref-rmarkdown.html">
        <span class="fa fa-feather-alt"></span>
         
        R Markdown
      </a>
    </li>
    <li>
      <a href="ref-other.html">
        <span class="fa fa-ellipsis-h"></span>
         
        Other
      </a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="about.html">
        <span class="fa fa-info-circle"></span>
         
        About
      </a>
    </li>
    <li>
      <a href="LICENSE.html">
        <span class="fa fa-gavel"></span>
         
        License
      </a>
    </li>
    <li>
      <a href="datacamp.html">
        <span class="fa fa-graduation-cap"></span>
         
        DataCamp
      </a>
    </li>
  </ul>
</li>
<li>
  <a href="https://emse-eda-s20.slack.com">
    <span class="fa fa-slack"></span>
     
    Slack
  </a>
</li>
<li>
  <a href="http://eda.seas.gwu.edu/showcase/2020-spring.html">Showcase</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-bars"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mailto:jph@gwu.edu">
        <span class="fa fa-envelope"></span>
         
        Contact
      </a>
    </li>
    <li>
      <a href="https://github.com/emse-eda-gwu/2020-Spring">
        <span class="fa fa-github"></span>
         
        GitHub
      </a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Assignment 7: Hockey Trends Redesign</h1>

</div>


<p><strong>Due</strong>: 27 March, 11:00 pm</p>
<p><strong>Weight</strong>: This assignment is worth 8% of your final
grade.</p>
<p><strong>Purpose</strong>: This assignment is designed to be a final
practice run before we will shift our focus towards the class projects.
You will practice and further hone skills you have already developed to
prepare you for similar challenges that you may run into in your
projects.</p>
<p><strong>Skills &amp; Knowledge</strong>: In this assignment, you will
practice exploring data in which <em>time</em> in a central variable.
Your analysis will involve writing text and code to create a
reproducible document in the form of an html page.</p>
<p><strong>Assessment</strong>: I will use <a
href="assignments/a7/a7-rubric.pdf">this rubric</a> to grade the
finished product.</p>
<p><strong>Background</strong>: The author of <a
href="https://nhltoseattle.com/2013/02/10/nhl-attendance-through-feb-9th/">this
article</a> from 7 years ago wrote about how attendance at NHL games was
climing. In an effort to communicate this message, the author created
this, um…unfortunate chart:</p>
<center>
<br>
<img src="assignments/a7/nhl-attendance-thru-feb-9th.png" width="700">
</center>
<p><br></p>
<p><strong>Tasks</strong>:</p>
<p>For this assignment, you will use the <strong>ggplot2</strong>
library in R and <a
href="http://www.espn.com/nhl/attendance/_/year/2018">data from ESPN</a>
to explore this question:</p>
<p><strong>How has NHL game attendence changed over the past two
decades?</strong></p>
<p>Here’s what you need to do:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Download</strong> <a
href="assignments/a7/a7-template.zip">this .zip file</a>. It contains a
<code>analysis.Rmd</code> file that you should use as a template to
write your analysis in, a <code>data</code> folder with the relevant
data needed for this assignment, and a <code>project.RProj</code> file
to help you stay organized.</p></li>
<li><p><strong>Clean</strong> the data. Read in the file
<code>NHL_Attendance.xlsx</code> in the <code>data</code> folder. Write
code to preview the data. Take note of the type of each variable and
whether there are any missing values. Are all the variables encoded the
way you would expect? Write code to modify variable types and names to
get your data frame cleaned up for analysis. (<strong>Hint</strong>: The
<code>janitor::clean_names()</code> function will come in handy). When
you’re done cleaning your data, write a few sentences describing any
modifications you made to the original data and why you did it.</p></li>
<li><p><strong>Create</strong> some new variables. First, use the
<code>SEASON</code> variable to create a new variable representing the
year stored as a number. For example, for the season
<code>"2017-18"</code>, the year should be the number <code>2017</code>.
Also, remember that we are interested in assessing the <em>change</em>
in NHL game attendance over time. To facilitate that, create a variable
for the percentage change in attendance for each team in each season
relative to the first season in the data (<code>"2000-01"</code>). For
example, Tampa Bay’s attendance at home was 611,173 in the 2000-01
season and grew to 782,772 in the 2017-18 season. Thus, the percentage
growth in home attendance between these two seasons was 100*(782,772 -
611,173) / 611,173 = 28%. You should end up with three new variables
(growth in “home”, “road”, and “total” attendance) that store the
percentage growth for each team and each season relative to the
<code>"2000-01"</code> season.</p></li>
<li><p><strong>Summarize</strong> the data. Examine measures of
centrality and variability in the important variables relevant to our
research question, including the new variables you created in step
3.</p></li>
<li><p><strong>Visualize</strong> the data. The original chart is pretty
terrible, so we’re going to just scratch that and start over. Create an
appropriate visualization that highlights the <em>change</em> in NHL
game attendance for each team in each season since the 2000-01 season.
You are free to use whatever chart type you wish. Here are some of the
options we covered in week 6:</p>
<ul>
<li>Points</li>
<li>Points + line</li>
<li>Points + smoothed line</li>
<li>Line + area</li>
<li>Bars</li>
<li>Stacked area</li>
<li>Lines with mean line overlay</li>
<li>Heatmap</li>
<li>Seasonal chart</li>
<li>Sankey chart</li>
<li>Animations (yes, you can totally do an animation if you want!)</li>
</ul>
<p>Your chart should follow the design principles we have covered in
class, and it should be “polished” following the techniques we covered
in week 8.</p></li>
<li><p><strong>Visualize</strong> the data (again). While the first
visualization highlights the change in NHL game attendance for <em>each
team</em>, this second chart should highlight the overall trend across
<em>all</em> teams. To do this, you will probably need to create a
summary data frame from your original one. Again, you are free to use
whatever chart type you wish, but your chart should follow the design
principles we have covered in class and it should be
“polished”.</p></li>
<li><p><strong>Write</strong> a summary of your analysis. I’m
specifically looking for a discussion of the following:</p>
<ul>
<li>What was wrong with the original chart? Discuss specific design
principles we have covered in class.</li>
<li>Discuss the message you intended to convey with each of your charts
and how your design choices draw attention to that message.</li>
</ul></li>
<li><p><strong>Click</strong> the “knit” button to compile your
<code>.Rmd</code> file into a html web page.</p></li>
<li><p><strong>Create</strong> a zip file of your whole project (.Rmd,
.html, .RProj, and the data folder), then go to the “Assignment
Submission” page on Blackboard and submit your zip file.</p></li>
</ol>


<hr>

<div>
<center>
    EMSE 4197 (CRN 78916): Exploratory Data Analysis - Spring 2020
    <br>
    <a href="https://www.gwu.edu/">George Washington University</a> |
    <a href="https://www.seas.gwu.edu/">School of Engineering & Applied Science</a>
    <br>
    <a href="https://www.jhelvy.com"><i class="fas fa-user"></i> Dr. John Paul Helveston</a> |
    <a href="mailto:jph@gwu.edu"><i class="fas fa-envelope"></i> jph@gwu.edu</a> |
    <i class="far fa-calendar-alt"></i> Wednesdays |
    <i class="far fa-clock"></i> 12:45–3:15 PM |
    <i class="fas fa-university"></i> District House B205 |
    <a href="https://twitter.com/JohnHelveston"><i class="fab fa-twitter"></i></a> |
    <a href="https://github.com/emse-eda-gwu/2020-Spring"><i class="fab fa-github"></i></a>
    <br>
    This work is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons ShareAlike 4.0 International License</a>.
    <br>
    See the <a href="LICENSE.html">licensing</a> page for more details about copyright information.
    <br>
    Content <i class="fab fa-creative-commons"></i> 2020 <a href="https://www.jhelvy.com">John Paul Helveston</a>
</center>
</div>

<!-- Add function to open links to external links in new tab, from: -->
<!-- https://yihui.name/en/2018/09/target-blank/ -->

<script src="js/external-link.js"></script>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
